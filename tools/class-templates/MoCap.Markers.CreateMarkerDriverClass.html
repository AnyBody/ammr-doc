


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta property="og:title" content="CreateMarkerDriverClass" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://anyscript.org/tools/class-templates/MoCap.Markers.CreateMarkerDriverClass.html" />
  
<meta property="og:site_name" content="AMMR Documentation" />
  
<meta property="og:description" content="Creates MoCap markers and links them to the C3D file data. Include this file this file to use, Validate docs section#CreateMarkerDriver: This template is used by all the MoCap models to link the mo..." />
  
<meta property="og:image" content="https://anyscript.org/ammr-doc/_static/AMMR_Logo.png" />
  
<meta property="og:image:alt" content="AMMR Documentation" />
  
    <title>CreateMarkerDriverClass &#8212; AMMR v2.4.4 Documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/table_styling.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>

    
    
     
        <script src="../../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../../_static/cloud.base.js"></script>
    

    
     
        <script src="../../_static/cloud.js"></script>
    

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../contents.html" title="Table Of Contents"
             accesskey="C">toc</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">AMMR v2.4.4 Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">CreateMarkerDriverClass</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="tex2jax_ignore mathjax_ignore section" id="createmarkerdriverclass">
<span id="mocap-markers-createmarkerdriverclass-any"></span><h1>CreateMarkerDriverClass<a class="headerlink" href="#createmarkerdriverclass" title="Permalink to this headline">¶</a></h1>
<p>Creates MoCap markers and links them to the C3D file data.</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">Include this file this file to use</span><a class="headerlink" href="#id1" title="Permalink to this code">¶</a></div>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="s">&quot;&lt;AMMR_TOOLS&gt;\AnyMocap/CreateMarkerDriverClass.any&quot;</span>`
</pre></div>
</div>
</div>
<!--  <p><span class="xref myst">Validate docs section</span></p>
--><div class="section" id="createmarkerdriver">
<h2>#CreateMarkerDriver<a class="headerlink" href="#createmarkerdriver" title="Permalink to this headline">¶</a></h2>
<p>This template is used by all the MoCap models to link the model to the C3D file data.
It creates a marker driver on the specified segment on the model and creates the
necessary drivers to link the marker position to the C3D file data.</p>
<p>The class template has special options to add optimizations of the marker positions
and to add filters to the marker positions.</p>
<p class="rubric">For example</p>
<div class="highlight-AnyScript notranslate"><div class="highlight"><pre><span></span><span class="n">CreateMarkerDriver</span> <span class="n">RPSI</span> <span class="p">(</span>
  <span class="n">MarkerPlacement</span><span class="o">=</span><span class="n">Trunk</span><span class="p">.</span><span class="n">Segments</span><span class="p">.</span><span class="n">PelvisSeg</span><span class="p">,</span>
  <span class="n">PlaceMarkerAt</span><span class="o">=</span><span class="n">Right</span><span class="p">.</span><span class="n">PSIS</span><span class="p">,</span>
  <span class="n">OptX</span><span class="o">=</span><span class="x x-Options">OFF</span><span class="p">,</span> <span class="n">OptY</span><span class="o">=</span><span class="x x-Options">OFF</span><span class="p">,</span> <span class="n">OptZ</span><span class="o">=</span><span class="x x-Options">ON</span><span class="p">,</span>
  <span class="n">UseC3DWeightResiduals</span><span class="o">=</span><span class="x x-Options">ON</span>
<span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">sRelOpt</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mf">0.025</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p class="rubric" id="mocap-markers-createmarkerdriverclass-createmarkerdriver-docsvalidationtarget">Full signature</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="n">CreateMarkerDriver</span> <span class="o">&lt;</span><span class="n">ObjectName</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">MarkerName</span><span class="o">=</span><span class="n">_NOT_DEFINED_</span><span class="p">,</span>
  <span class="n">MarkerPlacement</span><span class="o">=&lt;</span><span class="n">required</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="n">WeightX</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">WeightY</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">WeightZ</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">OptX</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">OptY</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">OptZ</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">ScaleMarkerPosOnOff</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">FilterCutOffFrequency</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">FilterOrder</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
  <span class="n">UseC3DWeightResiduals</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">PARAMETER_OPT_STUDY</span><span class="o">=</span><span class="n">Main</span><span class="p">.</span><span class="n">Studies</span><span class="p">.</span><span class="n">ParameterIdentification</span><span class="p">,</span>
  <span class="n">C3D_OBJECT</span><span class="o">=</span><span class="n">Main</span><span class="p">.</span><span class="n">ModelSetup</span><span class="p">.</span><span class="n">C3DFileData</span><span class="p">,</span>
  <span class="n">BODY_MODEL_FOLDER</span><span class="o">=</span><span class="n">Main</span><span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">BodyModel</span><span class="p">,</span>
  <span class="n">PlaceMarkerAt</span><span class="o">=</span><span class="n">MoCapMarkerFrameAMMR24</span><span class="p">,</span>
  <span class="n">USE_BVH_INPUT</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">BVH_OBJECT</span><span class="o">=</span><span class="n">Main</span><span class="p">.</span><span class="n">ModelSetup</span><span class="p">.</span><span class="n">BVHFileData</span><span class="p">,</span>
  <span class="n">MarkerPlacementBVH</span><span class="o">=</span><span class="n">REQUIRED_FOR_BVH_INPUT</span><span class="p">,</span>
  <span class="n">DRAW_SCALE</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">SKIP_MARKER_EXIST_CHECK</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="p">)</span> <span class="o">=</span> <span class="p">{</span>
  <span class="n">sRelOpt</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Required</span><span class="o">&gt;</span><span class="p">;</span> 
<span class="p">};</span>
</pre></div>
</div>
<p class="rubric">Arguments</p>
<p>:__CLASS__: <code class="docutils literal notranslate"><span class="pre">AnyFolder</span></code>{l=AnyScriptDoc}</p>
<p>:MarkerName:
The name of marker in the C3D file. It defaults to the name of the class template.  (Default: <em>NOT_DEFINED</em>)</p>
<p>:MarkerPlacement:
(Required) The segment on which the marker is place, relative to the Body model.  (Required)</p>
<p>:WeightX:
The weight of soft driver for the marker in X direction  (Default: 1)</p>
<p>:WeightY:
The weight of soft driver for the marker in Y direction  (Default: 1)</p>
<p>:WeightZ:
The weight of soft driver for the marker in Z direction  (Default: 1)</p>
<p>:OptX:
Switch to determine if the markers positions can be optimized in the X direction  (Default: 0)</p>
<p>:OptY:
Switch to determine if the markers positions can be optimized in the Y direction  (Default: 0)</p>
<p>:OptZ:
Switch to determine if the markers positions can be optimized in the Z direction  (Default: 0)</p>
<p>:ScaleMarkerPosOnOff:
Switch to indicate if the marker position should be scaled with the segment
which it is attached. If the marker is located relative the segments original
this should be ON. If the marker is located relative to a bony landmark it
may make sense to turn this off.  (Default: 1)</p>
<p>:FilterCutOffFrequency:
If set to something different that zero, it will use a special low pass filter
on this marker, instead of using the default filter applied by the AnyInputC3D
object.  (Default: 0)</p>
<p>:FilterOrder:
Filter order to use if FilterCutOffFrequency &gt; 0  (Default: 2)</p>
<p>:UseC3DWeightResiduals:
Switch to specify if the Marker residual value in the C3D file should be
used when creating weights for the marker. This is can be used to automatically
set the weight of the marker to zero when the marker drops out.  (Default: 0)</p>
<p>:PARAMETER_OPT_STUDY:
Can be used to specify which optimization study marker design values should be
added. It is useful in advanced cases where multiple marker optimization studies
are used.  (Default: Main.Studies.ParameterIdentification)</p>
<p>:C3D_OBJECT:
Specifies from which C3D object to link the markers. This only for advanced cases
using multiple C3D files for input.  (Default: Main.ModelSetup.C3DFileData)</p>
<p>:BODY_MODEL_FOLDER:
Specifies the folder where the body model is located. This is only for advanced
cases where the body model is not located in the default location.  (Default: Main.HumanModel.BodyModel)</p>
<p>:PlaceMarkerAt:
Specifies which coordinate system on the segment the marker is place.
This is used when placing markers relative to bony landmarks. (Defaults to <code class="docutils literal notranslate"><span class="pre">AnatomicalFrame</span></code>)  (Default: MoCapMarkerFrameAMMR24)</p>
<p>:USE_BVH_INPUT:
Switch to specify if the marker should be linked to a BVH file instead of a C3D file.  (Default: 0)</p>
<p>:BVH_OBJECT:
Specifies from which BVH object to link the markers. This only for advanced cases
using multiple BVH files for input.  (Default: Main.ModelSetup.BVHFileData)</p>
<p>:MarkerPlacementBVH:
Specifies the segment on which the marker is place, relative to the Body model.
This is only used when using BVH input.  (Default: REQUIRED_FOR_BVH_INPUT)</p>
<p>:DRAW_SCALE:
Specifies the scale of the marker in the model view. This is only used for
visualization purposes.  (Default: 1)</p>
<p>:SKIP_MARKER_EXIST_CHECK:
Disable the check if the marker exists in the C3D file. This switch must be
enabled if you model is structured so markers are created
before the AnyInputC3D file have been defined. (Defaults to 0)  (Default: 0)</p>
<p class="rubric">Required initialization members</p>
<p class="rubric">Optional initialization members</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../index.html" title="index">
          <img class="logo" src="../../_static/AMMR_Logo.png" alt="Logo"/>
        </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="../../contents.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to the AMMR documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started with AMMR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bm_config/index.html">Configuring the Body Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../body/models.html">The Body Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/index.html">Application Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating_model_from_scratch.html">Creating a Human model from scratch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scaling/intro.html">Introduction to Scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../anymocap/index.html">The AnyMoCap Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About the AMMR</a></li>
</ul>
</div>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../contents.html" title="Table Of Contents"
             >toc</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">AMMR v2.4.4 Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">CreateMarkerDriverClass</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, AnyBody Technology.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.4.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>