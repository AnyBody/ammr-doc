


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta property="og:title" content="ForcePlateAutoDetection" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://anyscript.org/tools/class-templates/MoCap.Force plates.ForcePlateAutoDetection.html" />
  
<meta property="og:site_name" content="AMMR Documentation" />
  
<meta property="og:description" content="Create Force plates based on data in C3D file. Include this file this file to use, Validate docs section#ForcePlateAutoDetection: Class template to create a force plates from measured data (in c3d ..." />
  
<meta property="og:image" content="https://anyscript.org/ammr-doc/_static/AMMR_Logo.png" />
  
<meta property="og:image:alt" content="AMMR Documentation" />
  
    <title>ForcePlateAutoDetection &#8212; AMMR v2.4.4 Documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/cloud.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/table_styling.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>

    
    
     
        <script src="../../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../../_static/cloud.base.js"></script>
    

    
     
        <script src="../../_static/cloud.js"></script>
    

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../contents.html" title="Table Of Contents"
             accesskey="C">toc</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">AMMR v2.4.4 Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">ForcePlateAutoDetection</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="tex2jax_ignore mathjax_ignore section" id="forceplateautodetection">
<span id="mocap-force-plates-forceplateautodetection-any"></span><h1>ForcePlateAutoDetection<a class="headerlink" href="#forceplateautodetection" title="Permalink to this headline">¶</a></h1>
<p>Create Force plates based on data in C3D file.</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Include this file this file to use</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="s">&quot;&lt;AMMR_TOOLS&gt;\AnyMocap/ForcePlates/ForcePlateAutoDetection.any&quot;</span>`
</pre></div>
</div>
</div>
<!--  <p><span class="xref myst">Validate docs section</span></p>
--><div class="section" id="id1">
<h2>#ForcePlateAutoDetection<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Class template to create a force plates from measured data (in c3d files).</p>
<p>The class automatically links the force to the foot closest and stationary
on the force plate.</p>
<p>The class can also be used for other limbs.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you have a model with only one leg, or want to ensure that only one leg
contacts the plate then set LIMB1 and LIMB2 to the same segment</p>
</div>
<p class="rubric">Example</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="n">ForcePlateAutoDetection</span> <span class="n">Plate1</span><span class="p">(</span>
  <span class="n">PLATE_NO</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">LIMB1</span> <span class="o">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">BodyModel</span><span class="p">.</span><span class="n">Right</span><span class="p">.</span><span class="n">Leg</span><span class="p">.</span><span class="n">Seg</span><span class="p">.</span><span class="n">Foot</span><span class="p">,</span>
  <span class="n">LIMB2</span> <span class="o">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">BodyModel</span><span class="p">.</span><span class="n">Left</span><span class="p">.</span><span class="n">Leg</span><span class="p">.</span><span class="n">Seg</span><span class="p">.</span><span class="n">Foot</span><span class="p">,</span>
  <span class="n">HeightTolerance</span> <span class="o">=</span> <span class="mf">0.07</span><span class="p">,</span>
  <span class="n">VelThreshold</span> <span class="o">=</span> <span class="mf">2.2</span><span class="p">,</span>
  <span class="n">FORCEPLATE_TYPE</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span>
  <span class="n">ALLOW_MULTI_LIMB_CONTACT</span> <span class="o">=</span> <span class="x x-Options">OFF</span>
<span class="p">)</span> <span class="o">=</span> 
<span class="p">{</span>
  <span class="n">SurfaceOffset</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p class="rubric" id="mocap-force-plates-forceplateautodetection-forceplateautodetection-docsvalidationtarget">Full signature</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="n">ForcePlateAutoDetection</span> <span class="o">&lt;</span><span class="n">ObjectName</span><span class="o">&gt;</span><span class="p">(</span>
  <span class="n">PLATE_NO</span><span class="o">=&lt;</span><span class="n">required</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="n">FORCEPLATE_TYPE</span><span class="o">=&lt;</span><span class="n">required</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="n">LIMB1</span><span class="o">=</span><span class="n">Main</span><span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">BodyModel</span><span class="p">.</span><span class="n">Right</span><span class="p">.</span><span class="n">Leg</span><span class="p">.</span><span class="n">Seg</span><span class="p">.</span><span class="n">Foot</span><span class="p">,</span>
  <span class="n">LIMB2</span><span class="o">=</span><span class="n">Main</span><span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">BodyModel</span><span class="p">.</span><span class="n">Left</span><span class="p">.</span><span class="n">Leg</span><span class="p">.</span><span class="n">Seg</span><span class="p">.</span><span class="n">Foot</span><span class="p">,</span>
  <span class="n">VerticalDirection</span><span class="o">=</span><span class="s">&quot;Automatic&quot;</span><span class="p">,</span>
  <span class="n">HeightTolerance</span><span class="o">=</span><span class="mf">0.07</span><span class="p">,</span>
  <span class="n">VelThreshold</span><span class="o">=</span><span class="mf">2.2</span><span class="p">,</span>
  <span class="n">ALLOW_MULTI_LIMB_CONTACT</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">CONTACT_NODE1</span><span class="o">=</span><span class="n">HeelContactNodeLow</span><span class="p">,</span>
  <span class="n">CONTACT_NODE2</span><span class="o">=</span><span class="n">ToeLateralContactNode</span><span class="p">,</span>
  <span class="n">CREATE_KIN_GRF</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
  <span class="n">KIN_GRF_LIMB1_FUN</span><span class="o">=</span><span class="n">GlobalCopFun</span><span class="p">,</span>
  <span class="n">KIN_GRF_LIMB2_FUN</span><span class="o">=</span><span class="n">GlobalCopFun</span><span class="p">,</span>
  <span class="n">DRAW_RAW_FORCES</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
  <span class="n">C3D_OBJECT</span><span class="o">=</span><span class="n">Main</span><span class="p">.</span><span class="n">ModelSetup</span><span class="p">.</span><span class="n">C3DFileData</span><span class="p">,</span>
<span class="p">)</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</div>
<p class="rubric">Arguments</p>
<p>:__CLASS__: <code class="docutils literal notranslate"><span class="pre">AnyFolder</span></code>{l=AnyScriptDoc}</p>
<p>:PLATE_NO:
The plate number in the C3D file (1..N)  (Required)</p>
<p>:FORCEPLATE_TYPE:
The type of force plate (from the C3D spec.) (1..4)  (Required)</p>
<p>:LIMB1:
Location of the limb 1 (defaults to: Main.HumanModel.BodyModel.Right.Leg.Seg.Foot)  (Default: Main.HumanModel.BodyModel.Right.Leg.Seg.Foot)</p>
<p>:LIMB2:
Location of the limb 2 (defaults to: Main.HumanModel.BodyModel.Left.Leg.Seg.Foot)  (Default: Main.HumanModel.BodyModel.Left.Leg.Seg.Foot)</p>
<p>:VerticalDirection:
The vertical direction of the force plate.
Possible values are “X”, “Y”, “Z”, “Automatic”.
The default is “Automatic” which will use the direction of the force plate
normal vector.  (Default: “Automatic”)</p>
<p>:HeightTolerance:
The height tolerance for contact detection with the foot. (Defaults to 0.07 m).  (Default: 0.07)</p>
<p>:VelThreshold:
The velocity threshold for contact detection with the foot. (Defaults to 2.2 m/s).  (Default: 2.2)</p>
<p>:ALLOW_MULTI_LIMB_CONTACT:
Switch to specify if both LIMB1 and LIMB2 can be in contact with the plate simultaneously.
If set to OFF only the limb with lowest velocity will be assumed in contact.
Set this to OFF to prevent false contact detection in the swing phase from
the collateral limb. (Defaults to ON)  (Default: 1)</p>
<p>:CONTACT_NODE1:
The node on LIMB1/2 used for contact detection. Change this if you are connecting
to something different than the feet. (Defaults to: HeelContactNodeLow)  (Default: HeelContactNodeLow)</p>
<p>:CONTACT_NODE2:
The node on LIMB1/2 used for contact detection. Change this if you are connecting
to something different than the feet. (Defaults to: ToeLateralContactNode)  (Default: ToeLateralContactNode)</p>
<p>:CREATE_KIN_GRF:
Create a kinematic representation of the ground reaction force vector. This is experimental
but could be used to include the GRF vector in the parameter optimization. (Defaults to OFF)  (Default: 0)</p>
<p>:KIN_GRF_LIMB1_FUN:
Switch to customize the kinematic GRF vector representation. Experimental. (Defaults to GlobalCopFun)  (Default: GlobalCopFun)</p>
<p>:KIN_GRF_LIMB2_FUN:
Switch to customize the kinematic GRF vector representation. Experimental. (Defaults to GlobalCopFun)  (Default: GlobalCopFun)</p>
<p>:DRAW_RAW_FORCES:
Switch to draw the raw forces from the C3D file. (Defaults to ON)  (Default: 1)</p>
<p>:C3D_OBJECT:
The c3d object in the model tree  (Default: Main.ModelSetup.C3DFileData)</p>
<p class="rubric">Optional initialization members</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../index.html" title="index">
          <img class="logo" src="../../_static/AMMR_Logo.png" alt="Logo"/>
        </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="../../contents.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to the AMMR documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started with AMMR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bm_config/index.html">Configuring the Body Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../body/models.html">The Body Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../auto_examples/index.html">Application Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../creating_model_from_scratch.html">Creating a Human model from scratch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scaling/intro.html">Introduction to Scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../anymocap/index.html">The AnyMoCap Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About the AMMR</a></li>
</ul>
</div>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../contents.html" title="Table Of Contents"
             >toc</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">AMMR v2.4.4 Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">ForcePlateAutoDetection</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, AnyBody Technology.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.4.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>