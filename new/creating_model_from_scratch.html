
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta content="noindex" name="robots" />

<meta property="og:title" content="Creating a Human model from scratch" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://anyscript.org/creating_model_from_scratch.html" />
  
<meta property="og:site_name" content="AMMR Documentation" />
  
<meta property="og:description" content="The following tutorial teaches you how to construct an AnyBody model, when starting with a blank AnyScript file. When you work with more complex models, you will realize the given code structure is..." />
  
<meta property="og:image" content="https://anyscript.org/ammr-doc/_static/AMMR_Logo.png" />
  
<meta property="og:image:alt" content="AMMR Documentation" />
  
    <title>Creating a Human model from scratch &#8212; AMMR v2.4.1-beta Documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >let toggleHintShow = 'Click to show';</script>
    <script >let toggleHintHide = 'Click to hide';</script>
    <script >let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script src="_static/design-tabs.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Introduction to Scaling" href="Scaling/intro.html" />
    <link rel="prev" title="All BodyModel constants" href="bm_config/bm_constants.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/AMMR.svg" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p class="caption">
 <span class="caption-text">
  Examples and applications
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="getting_started.html">
   Getting Started
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="ammr_installation.html">
     Installing Latest AMMR Files
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Applications/index.html">
   Example Gallery
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/index.html">
     Ergonomics and ADLs
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/AirlinePassenger.html">
       Airline passenger
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/FreePosture.html">
       Free posture Models
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/PedalDemo.html">
       Pedel demo simple
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/PedalDemoConditional.html">
       Pedel demo
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/PosturePredictionModel.html">
       Posture Prediction Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/SeatedHuman.html">
       Seated Human
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/Squat.html">
       Squat
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/StandingLift.html">
       Lifting Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/StandingModel.html">
       Standing Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Daily-activities-and-ergonomics/WheelTurn.html">
       Hand crank model
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="Applications/Mocap/index.html">
     MoCap
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Mocap/ADL_Gait.html">
       ADL Gait (beta)
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Mocap/AnyMocapFeatures.html">
       AnyMoCap Features
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Mocap/BVH.html">
       Inertial MoCap example
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Mocap/BVH_BoxLift.html">
       BVH driven box lift example
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Mocap/BVH_OptimizeOrigin.html">
       Optimize BVH Origin example
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Mocap/Plug-in-gait_MultiTrial_StandingRef.html">
       Multi trial MoCap model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Mocap/Plug-in-gait_Simple_FullBody.html">
       Simple Full body model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Mocap/Plug-in-gait_Simple_FullBody_GRFPrediction.html">
       Simple GRF prediction model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Mocap/Plug-in-gait_Simple_LowerExtremity.html">
       Simple Lower extremity model
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="Applications/Orthopedics_and_rehab/index.html">
     Orthopedics
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Orthopedics_and_rehab/FacetJointModel.html">
       Facet Joint Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Orthopedics_and_rehab/FemoralTorsionTool.html">
       Femoral Torsion tool
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Orthopedics_and_rehab/KneeForcesExample.html">
       Knee forces example
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Orthopedics_and_rehab/KneeSimulator.html">
       Knee Simulator Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Orthopedics_and_rehab/SpineFixationWithForceDependentKinematics.html">
       Spine Fixation Model using Force Dependent Kinematics
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Orthopedics_and_rehab/THA-KneeBendDemo.html">
       Total Hip Arthroplasty (THA) Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Orthopedics_and_rehab/WheelChairRancho.html">
       Wheel Chair model
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="Applications/Sports/index.html">
     Sports
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Sports/ArmCurl.html">
       Arm curl
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Sports/BenchPress.html">
       Bench Press
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Sports/BikeModel.html">
       Bike Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Sports/BikeModel2D.html">
       Bike Model 2D
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Sports/CrossTrainer.html">
       Cross Trainer
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Sports/LegPressMachine.html">
       Leg Press Machine
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Sports/PushUp.html">
       Push Up
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="Applications/Other/index.html">
     Other
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Other/ExoConceptTrunk_BoxLift.html">
       Trunk exoskeleton concept model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Other/ExoConcept_BoxLift.html">
       Exoskeleton concept model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Other/IndexFingerModel.html">
       Index finger model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Other/JumpingJack.html">
       Jumping Jack
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Other/StandingModelScalingDisplay.html">
       Standing Model Scaling Display
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Other/StatisticalScalingPlugin.html">
       Statistical Scaling Plugin
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Other/UlmRatHindLimbModel.html">
       Rat Hindlimb model
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="Applications/Validation/index.html">
     Validation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Validation/AalborgMandible.html">
       The Aalborg Mandible model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Validation/BergmannGH.html">
       Bergmann GH
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Validation/EvaluateJointStrength.html">
       Evaluate joint strength
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Validation/EvaluateMomentArms.html">
       Evaluate moment arms
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Validation/GaitVaughan.html">
       Gait Vaughan
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Validation/MandibleModel.html">
       Symmetric Mandible example
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="Applications/Validation/WilkeSpinePressure.html">
       Wilke Spine Disc Pressure Model
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Body Models
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="body/models.html">
   Body Models
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="body/lumbar_spine_model.html">
     The Lumbar Spine Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/cervical_spine_model.html">
     The Cervical Spine Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/thoracic_model.html">
     Thoracic spine model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/shoulder_arm_model.html">
     The Shoulder Arm Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/detailed_hand_model.html">
     Detailed hand model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/regensburg_ulm_hand_model.html">
     Regensburg-Ulm hand model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/leg_model.html">
     The “Leg” Model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/leg_tlem_model.html">
     Twente Lower Extremity Model v.1.2
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/leg_tlem2_model.html">
     Twente Lower Extremity Model v.2.1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/glasgow_maastricht_foot_model.html">
     GM Foot model
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/symmetric_mandible_model.html">
     The Symmetric Mandible
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="body/aalborg_mandible.html">
     The Aalborg mandible
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="bm_config/index.html">
   Configuring the Body Model
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/leg.html">
     Leg Parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/arm.html">
     Arm Parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/trunk.html">
     Trunk Parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/mannequin.html">
     Mannequin Driver Parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/scaling.html">
     Scaling Parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/joint_type.html">
     Joint Type Parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/other.html">
     Other Parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/bm_plugin.html">
     Body Model Plugin (BM-Plugin)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/bm_statements.html">
     All BodyModel parameters
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="bm_config/bm_constants.html">
     All BodyModel constants
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Guides
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Creating a Human model from scratch
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Scaling/intro.html">
   Introduction to Scaling
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Scaling/lesson1.html">
     Lesson 1: Joint to Joint Scaling Methods
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Scaling/lesson2.html">
     Lesson 2: Scaling based on External Body Measurements
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Scaling/lesson3.html">
     Lesson 3: Scaling using segmental scaling vectors
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="anymocap/index.html">
   The AnyMoCap Framework
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="anymocap/grf-prediction.html">
     Ground Reaction force prediction
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  ━━━━━━━━
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="about.html">
   About the model repository
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="changelog.html">
     Changelog
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="contribute.html">
     Contribute to Model Development
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="legal.html">
     Legal, Trademarks and Copyrights
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Creating a Human model from scratch</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="creating-a-human-model-from-scratch">
<h1>Creating a Human model from scratch<a class="headerlink" href="#creating-a-human-model-from-scratch" title="Permalink to this headline">#</a></h1>
<p>The following tutorial teaches you how to construct an AnyBody model, when starting with a blank AnyScript file. When you work with more complex models,
you will realize the given code structure is actually quite universal.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>Need to provide a link to the tutorial that deals with templates. IMP!!! Need to generate all the images</p>
</div>
<p><strong>STEP 1</strong></p>
<p>Open a new AnyScript file (Cntrl + I) and type in the <code class="docutils literal notranslate"><span class="pre">Main</span></code> declaration shown below. This file now becomes
the main model file, and all its contents (e.g, model objects, simulation objects) should be typed between the two curly braces.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>

<span class="p">};</span>
</pre></div>
</div>
<p class="centered"><strong>STEP 2</strong></p>
<p>Link a <code class="docutils literal notranslate"><span class="pre">libdef.any</span></code> file to specify the AMMR directories that you wish to import the human model from.
If instructions for installing the Demo AMMR in the <a class="reference internal" href="ammr_installation.html"><span class="doc">previous chapter</span></a> were exactly followed, the file path typed below should work.
Otherwise, make the necessary changes.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="hll"><span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_MYFILES&gt;/AnyBody.7.1.x/AMMR.v2.1.1-Demo/libdef.any&quot;</span>
</span><span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>

<span class="p">};</span>
</pre></div>
</div>
<p class="centered"><strong>STEP 3</strong></p>
<p>Create an empty <code class="docutils literal notranslate"><span class="pre">Model</span></code> folder to hold your model components, and an <code class="docutils literal notranslate"><span class="pre">AnyBodyStudy</span></code> object (named <code class="docutils literal notranslate"><span class="pre">Study</span></code>) which can run
Kinematics and Inverse Dynamics simulations on your model.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_MYFILES&gt;/AnyBody.7.1.x/AMMR.v2.1.1-Demo/libdef.any&quot;</span>
<span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>
<span class="hll">
</span><span class="hll">    <span class="kt">AnyFolder</span> <span class="n">Model</span> <span class="o">=</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">
</span><span class="hll">    <span class="p">};</span>
</span>

<span class="hll">    <span class="kt">AnyBodyStudy</span> <span class="n">Study</span> <span class="o">=</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="n">Gravity</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">9.81</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span> <span class="c1">// Gravity Vector</span>
</span><span class="hll">        <span class="n">tStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Start time</span>
</span><span class="hll">        <span class="n">tEnd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// End time</span>
</span><span class="hll">    <span class="p">};</span>
</span><span class="p">};</span>
</pre></div>
</div>
<p class="centered"><strong>STEP 4</strong></p>
<p>The next statement will create a reference to the <code class="docutils literal notranslate"><span class="pre">Model</span></code> folder within <code class="docutils literal notranslate"><span class="pre">Study</span></code>, thus instructing the simulation to only
consider model objects (i.e. segments, forces, motion drivers etc.) contained within <code class="docutils literal notranslate"><span class="pre">Model</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You can create any number of such references. It allows mixing and matching of model components in simulations.
For example, if three separate <code class="docutils literal notranslate"><span class="pre">AnyFolder</span></code> objects contained models of a human, chair and bicycle, we could create
two <code class="docutils literal notranslate"><span class="pre">AnyBodyStudy</span></code> objects - one with references to (human &amp; chair) and the other simulating (human &amp; bicycle).</p>
</div>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_MYFILES&gt;/AnyBody.7.1.x/AMMR.v2.1.1-Demo/libdef.any&quot;</span>
<span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>

    <span class="kt">AnyFolder</span> <span class="n">Model</span> <span class="o">=</span>
    <span class="p">{</span>

    <span class="p">};</span>


    <span class="kt">AnyBodyStudy</span> <span class="n">Study</span> <span class="o">=</span>
    <span class="p">{</span>
<span class="hll">        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">ModelForSim</span> <span class="o">=</span> <span class="p">.</span><span class="n">Model</span><span class="p">;</span> <span class="c1">// &#39;&amp;&#39; creates a local reference to existing folder</span>
</span>        <span class="n">Gravity</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">9.81</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span> <span class="c1">// Gravity Vector</span>
        <span class="n">tStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Start time</span>
        <span class="n">tEnd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// End time</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p class="centered"><strong>STEP 5</strong></p>
<p>The AMMR contains multiple musculoskeletal models (e.g., human cow, rat etc.). Type the following statement to import
the human body model alone. The file path <code class="docutils literal notranslate"><span class="pre">&lt;ANYBODY_PATH_BODY&gt;</span></code> is defined in <code class="docutils literal notranslate"><span class="pre">libdef.any</span></code> - Have a look in there.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_MYFILES&gt;/AnyBody.7.1.x/AMMR.v2.1.1-Demo/libdef.any&quot;</span>
<span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>
<span class="hll">    <span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_BODY&gt;/HumanModel.any&quot;</span>
</span>
    <span class="kt">AnyFolder</span> <span class="n">Model</span> <span class="o">=</span>
    <span class="p">{</span>

    <span class="p">};</span>


    <span class="kt">AnyBodyStudy</span> <span class="n">Study</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">ModelForSim</span> <span class="o">=</span> <span class="p">.</span><span class="n">Model</span><span class="p">;</span> <span class="c1">// &#39;&amp;&#39; creates a local reference to existing folder</span>
        <span class="n">Gravity</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">9.81</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span> <span class="c1">// Gravity Vector</span>
        <span class="n">tStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Start time</span>
        <span class="n">tEnd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// End time</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p class="centered"><strong>STEP 6</strong></p>
<p>Create a reference to the human body model inside <code class="docutils literal notranslate"><span class="pre">Model</span></code> so that it is considered a part of the simulations in <code class="docutils literal notranslate"><span class="pre">Study</span></code>.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_MYFILES&gt;/AnyBody.7.1.x/AMMR.v2.1.1-Demo/libdef.any&quot;</span>
<span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_BODY&gt;/HumanModel.any&quot;</span>

    <span class="kt">AnyFolder</span> <span class="n">Model</span> <span class="o">=</span>
    <span class="p">{</span>
<span class="hll">        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">Human</span> <span class="o">=</span> <span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">BodyModel</span><span class="p">;</span>
</span>    <span class="p">};</span>


    <span class="kt">AnyBodyStudy</span> <span class="n">Study</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">ModelForSim</span> <span class="o">=</span> <span class="p">.</span><span class="n">Model</span><span class="p">;</span> <span class="c1">// &#39;&amp;&#39; creates a local reference to existing folder</span>
        <span class="n">Gravity</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">9.81</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span> <span class="c1">// Gravity Vector</span>
        <span class="n">tStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Start time</span>
        <span class="n">tEnd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// End time</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p class="centered" id="mannequindriver"><strong>STEP 7</strong></p>
<p>First add the lines of code highlighted in yellow below. An explanation follows.</p>
<p>While the previous step included the human body model in <code class="docutils literal notranslate"><span class="pre">Model</span></code>, a key piece of machinery was still missing - Motion constraints. In fact, you will see a warning message
if the model is loaded now. While motion prescription in elaborated on in <a class="reference external" href="https://anyscript.org/tutorials/dev/Making_things_move/index.html" title="(in AnyBody Tutorials v7.4)"><span class="xref std std-doc">the making things move tutorial</span></a>, a basic AnyBody requirement is that the number of motion constraints
(called motion drivers in AnyBody) must at least equal the number of DOFs of the model.</p>
<p>The total number of DOFs &amp; motion constraints can be found by double clicking the <code class="docutils literal notranslate"><span class="pre">Study</span></code> object in the Model tree. This opens the Object Description which
will show 378 DOFs but only 336 constraints. Therefore 42 more motion constraints are needed to make the simulation work.
The AMMR thankfully provides 42 default soft drivers (see this <a class="reference external" href="https://anyscript.org/tutorials/dev/A_Getting_started_modeling/lesson3.html" title="(in AnyBody Tutorials v7.4)"><span class="xref std std-doc">tutorial which introduces soft drivers</span></a>) which set joint angle values that hold the body in a default standing posture.
These are termed <code class="docutils literal notranslate"><span class="pre">DefaultMannequinDrivers</span></code> and are included in the <code class="docutils literal notranslate"><span class="pre">Model</span></code> folder below.</p>
<p>Due to the inclusion of soft drivers, solver settings need to be readjusted (see yellow highlting in code below).
You can now gradually add more complex hard drivers (e.g, to constrain feet to ground, maintain balance etc.) to your model, which automatically over-ride the
constraints enforced by soft drivers. The alternative would have been to create all 42 constraints manually before the simulation could even be tested
- a debugging nightmare in the making!</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_MYFILES&gt;/AnyBody.7.1.x/AMMR.v2.1.1-Demo/libdef.any&quot;</span>
<span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_BODY&gt;/HumanModel.any&quot;</span>

    <span class="kt">AnyFolder</span> <span class="n">Model</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">Human</span> <span class="o">=</span> <span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">BodyModel</span><span class="p">;</span>
<span class="hll">        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">MotionDrivers</span> <span class="o">=</span> <span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">DefaultMannequinDrivers</span><span class="p">;</span>
</span>    <span class="p">};</span>


    <span class="kt">AnyBodyStudy</span> <span class="n">Study</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">ModelForSim</span> <span class="o">=</span> <span class="p">.</span><span class="n">Model</span><span class="p">;</span> <span class="c1">// &#39;&amp;&#39; creates a local reference to existing folder</span>
        <span class="n">Gravity</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">9.81</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span> <span class="c1">// Gravity Vector</span>
        <span class="n">tStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Start time</span>
        <span class="n">tEnd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// End time</span>

<span class="hll">        <span class="n">InitialConditions</span><span class="p">.</span><span class="n">SolverType</span> <span class="o">=</span> <span class="kp">KinSolOverDeterminate</span><span class="p">;</span>
</span><span class="hll">        <span class="n">Kinematics</span><span class="p">.</span><span class="n">SolverType</span> <span class="o">=</span> <span class="kp">KinSolOverDeterminate</span><span class="p">;</span>
</span>    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p class="centered"><strong>STEP 8</strong></p>
<p>Add the highlighted code to create generalized reaction forces at the pelvis which support the model’s weight.</p>
<p>It consists of 6 generalized forces applied on the human model by the Ground frame and is composed of 3 linear forces and 3 moments.
The reaction force is constructed by an <code class="docutils literal notranslate"><span class="pre">AnyReacForce</span></code> class containing references to the kinematic measures (see this <a class="reference external" href="https://anyscript.org/tutorials/dev/The_mechanical_elements/lesson4.html" title="(in AnyBody Tutorials v7.4)"><span class="xref std std-doc">tutorial on kinematic measures</span></a>)
of the Pelvis w.r.t ground.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_MYFILES&gt;/AnyBody.7.1.x/AMMR.v2.1.1-Demo/libdef.any&quot;</span>
<span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>
    <span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_BODY&gt;/HumanModel.any&quot;</span>

    <span class="kt">AnyFolder</span> <span class="n">Model</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">Human</span> <span class="o">=</span> <span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">BodyModel</span><span class="p">;</span>
        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">MotionDrivers</span> <span class="o">=</span> <span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">DefaultMannequinDrivers</span><span class="p">;</span>

<span class="hll">        <span class="kt">AnyReacForce</span> <span class="n">HumanGroundResiduals</span> <span class="o">=</span>
</span><span class="hll">        <span class="p">{</span>
</span><span class="hll">        <span class="kt">AnyKinMeasure</span><span class="o">&amp;</span> <span class="n">PelvisPosX</span> <span class="o">=</span> <span class="p">.</span><span class="n">Human</span><span class="p">.</span><span class="n">Interface</span><span class="p">.</span><span class="n">Trunk</span><span class="p">.</span><span class="n">PelvisPosX</span><span class="p">;</span>
</span><span class="hll">        <span class="kt">AnyKinMeasure</span><span class="o">&amp;</span> <span class="n">PelvisPosY</span> <span class="o">=</span> <span class="p">.</span><span class="n">Human</span><span class="p">.</span><span class="n">Interface</span><span class="p">.</span><span class="n">Trunk</span><span class="p">.</span><span class="n">PelvisPosY</span><span class="p">;</span>
</span><span class="hll">        <span class="kt">AnyKinMeasure</span><span class="o">&amp;</span> <span class="n">PelvisPosZ</span> <span class="o">=</span> <span class="p">.</span><span class="n">Human</span><span class="p">.</span><span class="n">Interface</span><span class="p">.</span><span class="n">Trunk</span><span class="p">.</span><span class="n">PelvisPosZ</span><span class="p">;</span>
</span><span class="hll">        <span class="kt">AnyKinMeasure</span><span class="o">&amp;</span> <span class="n">PelvisRotX</span> <span class="o">=</span> <span class="p">.</span><span class="n">Human</span><span class="p">.</span><span class="n">Interface</span><span class="p">.</span><span class="n">Trunk</span><span class="p">.</span><span class="n">PelvisRotX</span><span class="p">;</span>
</span><span class="hll">        <span class="kt">AnyKinMeasure</span><span class="o">&amp;</span> <span class="n">PelvisRotY</span> <span class="o">=</span> <span class="p">.</span><span class="n">Human</span><span class="p">.</span><span class="n">Interface</span><span class="p">.</span><span class="n">Trunk</span><span class="p">.</span><span class="n">PelvisRotY</span><span class="p">;</span>
</span><span class="hll">        <span class="kt">AnyKinMeasure</span><span class="o">&amp;</span> <span class="n">PelvisRotZ</span> <span class="o">=</span> <span class="p">.</span><span class="n">Human</span><span class="p">.</span><span class="n">Interface</span><span class="p">.</span><span class="n">Trunk</span><span class="p">.</span><span class="n">PelvisRotZ</span><span class="p">;</span>
</span><span class="hll">        <span class="p">};</span>
</span>
    <span class="p">};</span>


    <span class="kt">AnyBodyStudy</span> <span class="n">Study</span> <span class="o">=</span>
    <span class="p">{</span>
        <span class="kt">AnyFolder</span> <span class="o">&amp;</span><span class="n">ModelForSim</span> <span class="o">=</span> <span class="p">.</span><span class="n">Model</span><span class="p">;</span> <span class="c1">// &#39;&amp;&#39; creates a local reference to existing folder</span>
        <span class="n">Gravity</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">9.81</span><span class="p">,</span><span class="mi">1</span><span class="p">};</span> <span class="c1">// Gravity Vector</span>
        <span class="n">tStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// Start time</span>
        <span class="n">tEnd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="c1">// End time</span>

        <span class="n">InitialConditions</span><span class="p">.</span><span class="n">SolverType</span> <span class="o">=</span> <span class="kp">KinSolOverDeterminate</span><span class="p">;</span>
        <span class="n">Kinematics</span><span class="p">.</span><span class="n">SolverType</span> <span class="o">=</span> <span class="kp">KinSolOverDeterminate</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p class="centered"><strong>STEP 9</strong></p>
<p>Load the model and run the <code class="docutils literal notranslate"><span class="pre">InverseDynamics</span></code> analysis contained within <code class="docutils literal notranslate"><span class="pre">Study</span></code>. Refer to <a class="reference external" href="https://anyscript.org/tutorials/dev/Interface_features/lesson3.html" title="(in AnyBody Tutorials v7.4)"><span class="xref std std-doc">this tutorial</span></a> on how to view/plot the simulation outputs.</p>
<p>We encourage you to experiment further by adding more complex model components such as motion drivers, external forces etc. to the current model. Refer
to <a class="reference external" href="https://anyscript.org/tutorials/dev/The_mechanical_elements/index.html" title="(in AnyBody Tutorials v7.4)"><span class="xref std std-doc">these tutorials</span></a> to understand these features better.</p>
<video width="45%" style="display:block; margin: 0 auto;" controls autoplay loop>
    <source src="_static/Human_rotating_model.mp4" type="video/mp4">
Your browser does not support the video tag.
</video></div>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="bm_config/bm_constants.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">All BodyModel constants</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Scaling/intro.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Introduction to Scaling</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By AnyBody Technology<br/>
  
      &copy; Copyright 2022, AnyBody Technology.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>