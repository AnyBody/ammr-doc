


<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="noindex" name="robots" />

<meta property="og:title" content="Femoral Torsion tool" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://anyscript.org/auto_examples/Orthopedics_and_rehab/plot_FemoralTorsionTool.html" />
  
<meta property="og:site_name" content="AMMR Documentation" />
  
<meta property="og:description" content="This is an example of modifying the femoral torsion of the default leg ( TLEM 2.0) geometry by using a model utility tool included within the model repository. The model is the simple standing mode..." />
  
<meta property="og:image" content="https://anyscript.org/_images/femoral-torsion.png" />
  
<meta property="og:image:alt" content="AMMR Documentation" />
  
    <title>Femoral Torsion tool &#8212; AMMR v2.4.0-beta Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/cloud.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/table_styling.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>

    
    
     
        <script src="../../_static/jquery.cookie.js"></script>
    

    
     
        <script src="../../_static/cloud.base.js"></script>
    

    
     
        <script src="../../_static/cloud.js"></script>
    

    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Facet Joint Model" href="plot_FacetJointModel.html" />
    <link rel="prev" title="Knee Simulator Model" href="plot_KneeSimulator.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head><body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../contents.html" title="Table Of Contents"
             accesskey="C">toc</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="plot_FacetJointModel.html" title="Facet Joint Model"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="plot_KneeSimulator.html" title="Knee Simulator Model"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">AMMR v2.4.0-beta Documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Application Examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Femoral Torsion tool</a></li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section class="sphx-glr-example-title" id="femoral-torsion-tool">
<span id="sphx-glr-auto-examples-orthopedics-and-rehab-plot-femoraltorsiontool-py"></span><h1>Femoral Torsion tool<a class="headerlink" href="#femoral-torsion-tool" title="Permalink to this headline">¶</a></h1>
<p>This is an example of modifying the femoral torsion of the default leg
(<a class="reference internal" href="../../body/leg_tlem2_model.html#tlem2"><span class="std std-ref">TLEM 2.0</span></a>) geometry by using a model utility tool included within
the model repository. The  model is the simple standing model where the femoral
torsion has been altered to 20 degrees. The model is also a good example on how
a similar morphing approach can be used to personalize different body segments.</p>
<div class="without-title admonition seealso">
<p class="admonition-title">See also</p>
<p><strong>Model location in AMMR:</strong></p>
<p><span class="menuselection">Application ‣ Examples ‣ FemoralTorsion ‣
StandingModel.Main.any</span></p>
</div>
<p>The tool was developed by Enrico De Pieri, from the University of Basel
Children’s Hospital (UKBB), and Morten E. Lund, from AnyBody Technology A/S.</p>
<p>This tool was made to generate personalized models that account for
subject-specific values of femoral torsion, and investigate the effect of
torsional alignment on hip loading. This work is published in ‘Frontiers in
Bioengineering and Biotechnology’ <a class="reference internal" href="#dflm21" id="id1"><span>[DFLM21]</span></a>. Please cite this article when using
this tool.</p>
<figure class="align-center" id="id2">
<img alt="../../_images/femoral-torsion.png" src="../../_images/femoral-torsion.png" />
<figcaption>
<p><span class="caption-text">The tool works by adding a 8 control points around the hip center and knee
center, which control a RBF scale function. The control points are scaled
with the default model scaling, while the femoral torsion is added on top.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id3">
<img alt="../../_images/femoral-torsion_2.png" src="../../_images/femoral-torsion_2.png" />
<figcaption>
<p><span class="caption-text">The origin and insertion points of the muscles follow the morphed femoral
geometry.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The model tool is a simple include file located in the model repository. It can
be included in any model using the following code:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="c1">// The femoral torsion tool expects the following variables to be defined</span>
<span class="n">Main</span><span class="p">.</span><span class="n">HumanModel</span><span class="p">.</span><span class="n">Anthropometrics</span> <span class="o">=</span> <span class="p">{</span>
   <span class="kt">AnyVar</span> <span class="n">FemoralTorsionRight</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
   <span class="kt">AnyVar</span> <span class="n">FemoralTorsionLeft</span> <span class="o">=</span> <span class="mi">20</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// This line must be included before the &quot;HumanModel&quot;.</span>
<span class="cp">#include</span> <span class="s">&quot;&lt;ANYBODY_PATH_MODELUTILS&gt;/FemoralTorsion/Include.any&quot;&quot;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This tool takes as input the nominal value of femoral torsion that is
to be expected in the final morphed model. It automatically subtracts the
torsional value of the original model’s femoral geometry and introduces a twist
in the transversal plane according to the difference between the two values. The
femoral torsion in the geometry of the unscaled (TLEM 2.0 cadaver) model is
approximately 3.5 degrees, so setting the femoral torsion to 3.5 degrees will
not modify the model. In the original publication, a slightly different
definition of joint axes for the calculation of torsion in the unscaled model
was used, leading to a value of 5.5 degrees. The adjusted value does not alter
the functionality of this tool nor the conclusions of the afore-mentioned
publication.</p>
</div>
<p>The Femoral torsion tool uses a functionality override scaling for thigh segments. In this case
the include file sets <code class="docutils literal notranslate"><span class="pre">#define</span> <span class="pre">CUSTOM_SCALING_Right_Thigh</span></code> and <code class="docutils literal notranslate"><span class="pre">#define</span>
<span class="pre">CUSTOM_SCALING_Left_Thigh</span></code> to override the default scaling for the right/left
thigh.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>See the <a class="reference external" href="https://anyscript.org/tutorials/dev/Scaling/lesson4.html" title="(in AnyBody Tutorials v7.4)"><span class="xref std std-doc">scaling tutorial</span></a> for
more information on how to use the custom scaling functionality in the
general case.</p>
</div>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h2>
<dl class="citation">
<dt class="label" id="dflm21"><span class="brackets"><a class="fn-backref" href="#id1">DFLM21</a></span></dt>
<dd><p>De Pieri E, Friesenbichler B, List R, Monn S, Casartelli NC, Leunig
M, Ferguson SJ. Subject-Specific Modeling of Femoral Torsion Influences the
Prediction of Hip Loading During Gait in Asymptomatic Adults. Front Bioeng
Biotechnol. 2021;9: 679360. doi:<a class="reference external" href="https://doi.org/10.3389/fbioe.2021.679360">10.3389/fbioe.2021.679360</a></p>
</dd>
</dl>
<img alt="../../_images/sphx_glr_plot_FemoralTorsionTool_001.png" class="sphx-glr-single-img" src="../../_images/sphx_glr_plot_FemoralTorsionTool_001.png" />
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
        <p class="logo"><a href="../../index.html" title="index">
          <img class="logo" src="../../_static/AMMR_Logo.png" alt="Logo"/>
        </a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
<div class="sphinx-toc sphinxglobaltoc">
<h3><a href="../../contents.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to the AMMR documentation!</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started with AMMR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../bm_config/index.html">Configuring the Body Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../body/models.html">The Body Models</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Application Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#daily-activities-and-ergonomics">Daily activities and ergonomics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#motion-capture-and-gait-analysis">Motion Capture and gait analysis</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#orthopedics-and-rehab">Orthopedics and rehab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#other-examples">Other examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#sports">Sports</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#validation">Validation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../creating_model_from_scratch.html">Creating a Human model from scratch</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Scaling/intro.html">Introduction to Scaling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../anymocap/index.html">The AnyMoCap Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About the AMMR</a></li>
</ul>
</div>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../contents.html" title="Table Of Contents"
             >toc</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="plot_FacetJointModel.html" title="Facet Joint Model"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="plot_KneeSimulator.html" title="Knee Simulator Model"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="../../index.html">AMMR v2.4.0-beta Documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="../index.html" >Application Examples</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Femoral Torsion tool</a></li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, AnyBody Technology.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>